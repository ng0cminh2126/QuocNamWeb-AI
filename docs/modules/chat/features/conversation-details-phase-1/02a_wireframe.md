# [BÆ¯á»šC 2A] Wireframe - Conversation Detail

> **Feature:** Chi tiáº¿t Ä‘oáº¡n chat  
> **Version:** 1.1.0  
> **Status:** ğŸ”„ UPDATING  
> **Last Update:** 2026-01-06 - ThÃªm file upload UI spec

---

## ğŸ“Œ UI Reference

> Giá»¯ nguyÃªn UI tá»« mockup theo yÃªu cáº§u HUMAN

### Source Files

- [ChatMain.tsx](../../../../../src/features/portal/workspace/ChatMain.tsx)
- [MessageBubble.tsx](../../../../../src/features/portal/components/MessageBubble.tsx)

---

## ğŸ–¼ï¸ Desktop Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] [Avatar] TÃªn nhÃ³m/ngÆ°á»i          [ğŸ”] [ğŸ“] [â‹¯] [Panel Toggle]      â”‚
â”‚     5 thÃ nh viÃªn â€¢ Online                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 28/12/2025 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚                                                                         â”‚
â”‚  [Avatar]  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚   Nguyá»…n   â”‚ Xin chÃ o má»i ngÆ°á»i!          â”‚                             â”‚
â”‚            â”‚                        12:30  â”‚                             â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                         â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚                              â”‚ ChÃ o báº¡n, tÃ´i lÃ  Minh        â”‚  [Avatar] â”‚
â”‚                              â”‚                        12:32  â”‚   Minh   â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                         â”‚
â”‚  [Avatar]  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚   Nguyá»…n   â”‚ [ğŸ“ Report_Q4.pdf]           â”‚                             â”‚
â”‚            â”‚ 2.5 MB                 12:35  â”‚                             â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                         â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚                              â”‚ [ğŸ–¼ï¸ image.jpg]               â”‚  [Avatar] â”‚
â”‚                              â”‚                        12:40  â”‚   Minh   â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                         â”‚
â”‚  Nguyá»…n A Ä‘ang nháº­p...                                                  â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ†• [ğŸ“] [ğŸ–¼ï¸] â”‚ Nháº­p tin nháº¯n... (auto-focus)                â”‚ [Gá»­i â¤]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†‘    â†‘
Attach  Image
button  button
(bÃªn trÃ¡i input, cáº¡nh nhau)
```

### ğŸ†• Message Input - Detailed Spec

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Message Input Composer                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  [ğŸ“ File] [ğŸ–¼ï¸ Image]  â”‚  <input auto-focus />             â”‚  [Send]   â”‚
â”‚   â†“                                                                     â”‚
â”‚  onClick â†’ open file picker                                             â”‚
â”‚  Accept: .pdf,.doc,.docx,.xls,.xlsx (for ğŸ“)                           â”‚
â”‚  Accept: .jpg,.jpeg,.png,.gif,.webp (for ğŸ–¼ï¸)                           â”‚
â”‚  Max size: 10MB                                                         â”‚
â”‚                                                                         â”‚
â”‚  ğŸ†• Auto-focus triggers:                                                â”‚
â”‚  - After sending message (input cleared + focused)                     â”‚
â”‚  - After attaching file (file added to preview + input focused)        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ†• File Preview Before Send

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ†• File Attachments (khi cÃ³ file Ä‘Æ°á»£c chá»n)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ÄÃ­nh kÃ¨m (2 files):                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ğŸ“„ Report_Q4.pdf                          2.5 MB     [âŒ]  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ğŸ“Š Sales_Data.xlsx                        1.2 MB     [âŒ]  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                         â”‚
â”‚  [ğŸ“] [ğŸ–¼ï¸] â”‚ ThÃªm ghi chÃº vá» files...                  â”‚ [Gá»­i â¤]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                             â†‘
                                                    Auto-focus sau attach
```

### ğŸ†• Button Specifications

| Button | Position              | Icon | Size | Hover State  | Click Action         |
| ------ | --------------------- | ---- | ---- | ------------ | -------------------- |
| Attach | Left of input         | ğŸ“   | 40px | bg-brand-50  | Open file picker     |
| Image  | Next to attach button | ğŸ–¼ï¸   | 40px | bg-brand-50  | Open image picker    |
| Send   | Right of input        | â¤    | 40px | bg-brand-700 | Send message + files |
| Remove | Right of file preview | âŒ   | 24px | bg-red-50    | Remove from preview  |

### ğŸ†• Spacing & Layout

```css
/* Input Composer */
.message-composer {
  display: flex;
  align-items: center;
  gap: 8px; /* Space between elements */
  padding: 12px;
  border-top: 1px solid gray-200;
}

/* Attach Buttons Group */
.attach-buttons {
  display: flex;
  gap: 4px; /* Tight spacing between ğŸ“ and ğŸ–¼ï¸ */
}

/* Input Field */
.message-input {
  flex: 1;
  min-height: 40px;
  max-height: 120px; /* Auto-grow */
  padding: 10px 16px;
  border-radius: 20px;
  border: 1px solid gray-300;
}

.message-input:focus {
  outline: none;
  border-color: brand-500;
  box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);
}

/* File Preview */
.file-preview-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  background: gray-50;
  border-radius: 8px;
  margin-bottom: 4px;
}
```

---

## ğŸ–¼ï¸ Mobile Layout (Updated)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†]  TÃªn nhÃ³m/ngÆ°á»i           [â‹¯]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  [Messages area with scroll]        â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ†• File preview (if any)            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“„ file.pdf 2MB          [âŒ]  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ†• [+] [ğŸ–¼ï¸] â”‚ Input...      â”‚ [â¤] â”‚
â”‚     â†“                               â”‚
â”‚  Sheet popup with:                  â”‚
â”‚  â€¢ áº¢nh                              â”‚
â”‚  â€¢ TÃ i liá»‡u (PDF, Word, Excel)      â”‚
â”‚  â€¢ Vá»‹ trÃ­                           â”‚
â”‚  â€¢ Tin nháº¯n máº«u                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Component States (Updated)

### Message Bubble - Sent

```css
background: brand-600 (#16a34a)
color: white
border-radius: 16px 16px 4px 16px
align: right
```

### Message Bubble - Received

```css
background: gray-100 (#f3f4f6)
color: gray-900
border-radius: 16px 16px 16px 4px
align: left
```

### Typing Indicator

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â—â—â—] Nguyá»…n A Ä‘ang nháº­p...        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Message States

| State     | Visual                  |
| --------- | ----------------------- |
| Sending   | Opacity 0.7, spinner    |
| Sent      | Full opacity            |
| Delivered | âœ“ single check          |
| Read      | âœ“âœ“ double check (blue)  |
| Failed    | Red exclamation + Retry |

---

## ğŸ“ Attachment Types

| Type     | Icon | Preview          |
| -------- | ---- | ---------------- |
| Image    | ğŸ–¼ï¸   | Thumbnail inline |
| PDF      | ğŸ“„   | Name + size      |
| DOC/DOCX | ğŸ“   | Name + size      |
| XLS/XLSX | ğŸ“Š   | Name + size      |
| Other    | ğŸ“   | Name + size      |

---

## âœ… HUMAN CONFIRMATION

| Háº¡ng má»¥c                  | Status           |
| ------------------------- | ---------------- |
| ÄÃ£ review Wireframe       | â¬œ ChÆ°a review   |
| ÄÃ£ review file upload UI  | â¬œ ChÆ°a review   |
| ÄÃ£ review auto-focus spec | â¬œ ChÆ°a review   |
| Giá»¯ nguyÃªn tá»« mockup      | âœ… Confirmed     |
| **APPROVED**              | â¬œ CHÆ¯A APPROVED |

**HUMAN Signature:** **\_\_**  
**Date:** 2026-01-06  
**Date:** **\*\***\_\_\_**\*\***
