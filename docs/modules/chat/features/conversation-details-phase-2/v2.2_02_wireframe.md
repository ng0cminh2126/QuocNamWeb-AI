# v2.2 File Attachment Display - Wireframe & UI Specs

> **Module:** Chat  
> **Feature:** File Attachment Display in Message Bubble  
> **Version:** 2.2  
> **Document Type:** UI Specification  
> **Status:** âœ… APPROVED  
> **Created:** 2026-01-08

---

## ğŸ“ Component Specifications

### File Attachment Block

**Purpose:** Hiá»ƒn thá»‹ file attachment trong message bubble (display only, no download)

**Layout:** Horizontal flex layout vá»›i icon, filename, vÃ  file size

---

## ğŸ¨ Desktop Design (â‰¥1024px)

### File-Only Message

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Message Bubble - Received (bg-white border shadow)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [Icon] Report_Q4_2024.pdf                          â”‚   â”‚ â† 16px L/R, 12px T/B
â”‚  â”‚  20x20   1.2 MB                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Spacing:
- Outer padding: px-4 py-3 (16px L/R, 12px T/B)
- Icon size: 20x20px (md)
- Gap between icon and text: 12px (gap-3)
- Filename: text-sm font-medium (14px, 500 weight)
- File size: text-xs text-gray-500 (12px)
```

### Text + File Message

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Message Bubble - Sent (bg-brand-600 text-white)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Here's the quarterly report                                â”‚ â† 16px L/R, 8px T
â”‚                                                              â”‚ â† 8px gap
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [Icon] Report_Q4_2024.pdf                          â”‚   â”‚ â† 16px L/R, 12px B
â”‚  â”‚  20x20   1.2 MB                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Spacing:
- Text padding: px-4 pt-2 (16px L/R, 8px T)
- Gap: h-2 (8px vertical spacing)
- File padding: px-4 pb-3 (16px L/R, 12px B only)
```

---

## ğŸ“± Mobile Design (<640px)

Same layout, responsive width:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Message Bubble                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Icon] Report_Q4_20...           â”‚
â”‚  20x20   1.2 MB                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- Filename truncates vá»›i ... náº¿u quÃ¡ dÃ i
- Max width: 70% cá»§a screen width
- Min width: 200px (Ä‘á»ƒ Ä‘á»§ chá»— cho filename)
```

---

## ğŸ¨ File Icon Specifications

### Icon Size & Colors

| File Type  | Lucide Icon    | Color (Tailwind)  | Hex Color |
| ---------- | -------------- | ----------------- | --------- |
| PDF        | `FileText`     | `text-red-600`    | #DC2626   |
| Word       | `FileText`\*   | `text-blue-600`   | #2563EB   |
| Excel      | `Sheet`        | `text-green-600`  | #16A34A   |
| PowerPoint | `Presentation` | `text-orange-600` | #EA580C   |
| Generic    | `File`         | `text-gray-600`   | #4B5563   |

\* **Note:** PDF vÃ  Word hiá»‡n dÃ¹ng chung `FileText` icon. Cáº§n tÃ¬m icon khÃ¡c Ä‘á»ƒ distinguish hoáº·c accept current limitation.

**Icon Component:**

```tsx
<FileIcon
  mimeType="application/pdf"
  size="md" // 20x20px
/>
```

---

## ğŸ“ Spacing Reference Table

| Message Type | Text Padding | Gap   | File Padding |
| ------------ | ------------ | ----- | ------------ |
| File only    | -            | -     | `px-4 py-3`  |
| Text + File  | `px-4 pt-2`  | `h-2` | `px-4 pb-3`  |
| Image only   | -            | -     | (no padding) |
| Text + Image | `px-4 pt-2`  | `h-2` | (no padding) |
| Text only    | `px-4 py-2`  | -     | -            |

**Consistency Rule:** Mixed content (text + attachment) luÃ´n cÃ³:

- Text padding: 16px L/R + 8px top
- Gap: 8px vertical spacing
- Attachment padding: varies by type

---

## ğŸ¨ Color Variants

### Received Messages (Other Users)

```tsx
className = "bg-white text-gray-900 shadow-sm border";
```

- Background: `bg-white`
- Text: `text-gray-900`
- Border: `border` (gray-200)
- Shadow: `shadow-sm`

### Sent Messages (Current User)

```tsx
className = "bg-brand-600 text-white";
```

- Background: `bg-brand-600` (blue)
- Text: `text-white`
- File icon colors: Same (red/blue/green/orange)
- File size text: `text-white/80` (white with opacity)

---

## ğŸ“ Typography Specifications

### Filename

- Font size: `text-sm` (14px)
- Font weight: `font-medium` (500)
- Color (received): `text-gray-900`
- Color (sent): `text-white`
- Truncate: `truncate` class (ellipsis if too long)
- Max width: Flexible (based on container)

### File Size

- Font size: `text-xs` (12px)
- Font weight: `font-normal` (400)
- Color (received): `text-gray-500`
- Color (sent): `text-white/80`
- Optional: Chá»‰ hiá»ƒn thá»‹ náº¿u API cung cáº¥p

---

## ğŸ”„ States

### Default State

```tsx
<div className="flex items-center gap-3 px-4 py-3">
  <FileIcon mimeType={contentType} size="md" />
  <div className="flex-1 min-w-0">
    <p className="text-sm font-medium truncate">{fileName}</p>
    <p className="text-xs text-gray-500">{fileSize}</p>
  </div>
</div>
```

### No File Size (API khÃ´ng cung cáº¥p)

```tsx
<div className="flex items-center gap-3 px-4 py-3">
  <FileIcon mimeType={contentType} size="md" />
  <div className="flex-1 min-w-0">
    <p className="text-sm font-medium truncate">{fileName}</p>
    {/* No file size element */}
  </div>
</div>
```

### Long Filename (Truncation)

```
Original: "Annual_Financial_Report_Q4_2024_Final_Version_2.pdf"
Display:  "Annual_Financial_Report_Q4_2024_Fin..."

- Uses CSS `truncate` class
- Shows ellipsis (...) at end
- No tooltip on hover (Phase 3 enhancement)
```

---

## ğŸš« Interaction States (v2.2 - No Interactions)

### Hover

- **No hover effect** (display only, no click action)
- Cursor: `cursor-default` (khÃ´ng pháº£i `cursor-pointer`)

### Click

- **No click action** in v2.2
- Phase 3: Click â†’ Open preview modal or download

### Focus

- Not applicable (no interactive elements)

---

## ğŸ¯ Design Decisions (CONFIRMED)

| Decision              | Choice                | Rationale                                |
| --------------------- | --------------------- | ---------------------------------------- |
| Show file size?       | âœ… Yes (if available) | Helpful context for users                |
| File size format?     | Auto (B/KB/MB)        | formatFileSize() util handles conversion |
| Filename max length?  | No limit (truncate)   | CSS handles with `truncate` class        |
| Download icon?        | âŒ No                 | v2.2 display only, no download           |
| Click behavior?       | âŒ No action          | Phase 3: preview modal                   |
| Icon size?            | 20x20px (md)          | Balanced with text size                  |
| Gap between elements? | 12px (gap-3)          | Consistent with design system            |

---

## ğŸ”— Component Dependencies

### Reused Components

- `FileIcon` (from v2.1) - Colored file type icons
- `cn()` utility - Tailwind class merging

### New Utilities

```tsx
// Optional: Format file size
function formatFileSize(bytes: number): string {
  if (bytes < 1024) return `${bytes} B`;
  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;
  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;
}
```

---

## âœ… HUMAN CONFIRMATION

| Háº¡ng má»¥c                    | Status         |
| --------------------------- | -------------- |
| ÄÃ£ review UI designs        | âœ… ÄÃ£ review   |
| ÄÃ£ xÃ¡c nháº­n spacing         | âœ… ÄÃ£ xÃ¡c nháº­n |
| ÄÃ£ xÃ¡c nháº­n colors          | âœ… ÄÃ£ xÃ¡c nháº­n |
| ÄÃ£ xÃ¡c nháº­n no interactions | âœ… ÄÃ£ xÃ¡c nháº­n |
| **APPROVED Ä‘á»ƒ implement**   | âœ… APPROVED    |

**HUMAN Signature:** [ÄÃƒ DUYá»†T]  
**Date:** 2026-01-08

---

## ğŸ“ Related Documents

- [v2.2_01_implementation-plan.md](./v2.2_01_implementation-plan.md) - Implementation plan
- [01_requirements.md](./01_requirements.md) - Requirements (v2.2 updated)
- [02a_wireframe.md](./02a_wireframe.md) - v2.0/v2.1 wireframes

---

**Status:** âœ… APPROVED - Ready for implementation  
**Next Step:** Create v2.2_03_testing.md for test specifications
